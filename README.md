# 需求收集系统

一个基于 PHP + LayUI 的简洁高效的需求收集系统，支持移动端自适应。

## ✨ 功能特色

### 前台功能
- 📱 **响应式设计** - 完美适配桌面端和移动端
- 📝 **需求提交** - 支持分类、优先级、联系方式等信息
- 🎨 **现代化UI** - 基于 LayUI 原生语法，界面美观大方
- 🔒 **安全防护** - CSRF 防护、XSS 防护、SQL 注入防护

### 后台功能
- 📊 **数据统计** - 需求数量、状态分布、优先级统计
- 📋 **需求管理** - 查看、搜索、筛选、状态更新、批量删除
- 🏷️ **分类管理** - 添加、编辑、删除分类，支持排序
- ⚙️ **系统设置** - 网站标题、描述、管理员邮箱等配置
- 🔍 **详情查看** - 完整的需求详情展示，包含元数据信息

## 🚀 快速开始

### 环境要求
- PHP 7.0+
- MySQL 5.6+
- Web 服务器（Apache/Nginx）

### 安装步骤

1. **下载系统文件**
   ```bash
   # 确保已下载所有 PHP 文件到网站目录
   ```

2. **下载 LayUI**
   - 从 [LayUI 官网](https://layui.dev/) 下载生产包
   - 解压到项目根目录，确保路径为：
     - `layui/css/layui.css`
     - `layui/layui.js`

3. **运行安装程序**
   - 在浏览器中访问 `http://你的域名/install.php`
   - 填写数据库信息和管理员账号
   - 点击"开始安装"

4. **完成安装**
   - 安装成功后会自动跳转到首页
   - 访问 `http://你的域名/admin/login.php` 进入后台管理

## 📁 目录结构

```
├── install.php              # 安装程序
├── index.php               # 前台首页
├── config.php              # 配置文件（安装后生成）
├── README.md               # 说明文档
├── includes/               # 公共文件目录
│   ├── database.php        # 数据库连接类
│   └── functions.php       # 公共函数
├── admin/                  # 后台管理目录
│   ├── login.php           # 登录页面
│   ├── auth.php            # 权限验证
│   ├── index.php           # 后台首页
│   ├── requirements.php    # 需求管理
│   ├── requirement_detail.php  # 需求详情
│   ├── categories.php      # 分类管理
│   └── settings.php        # 系统设置
└── layui/                  # LayUI 框架目录
    ├── css/
    │   └── layui.css
    └── layui.js
```

## 📊 数据库表结构

系统会自动创建以下数据表：

- **requirements** - 需求表
- **categories** - 分类表
- **admins** - 管理员表
- **settings** - 设置表

## 🎯 使用说明

### 前台使用
1. 访问网站首页
2. 选择需求分类
3. 填写需求标题和详细描述
4. 选择优先级（低/中/高）
5. 填写联系信息（可选）
6. 提交需求

### 后台管理
1. 使用安装时设置的管理员账号登录
2. **首页** - 查看系统统计和最新需求
3. **需求管理** - 管理所有提交的需求
   - 搜索和筛选需求
   - 更新需求状态
   - 查看需求详情
   - 批量删除需求
4. **分类管理** - 管理需求分类
   - 添加新分类
   - 编辑分类信息
   - 设置分类排序
   - 删除分类（需确保无关联需求）
5. **系统设置** - 配置系统参数
   - 修改网站标题和描述
   - 设置管理员邮箱
   - 调整每页显示数量

## 🔧 配置说明

### 数据库配置
安装完成后，数据库配置存储在 `config.php` 文件中：

```php
return [
    'database' => [
        'host' => 'localhost',
        'dbname' => '数据库名',
        'username' => '用户名',
        'password' => '密码',
        'charset' => 'utf8mb4'
    ],
    'site' => [
        'timezone' => 'Asia/Shanghai'
    ]
];
```

### 系统设置
可通过后台"系统设置"页面修改：
- 网站标题
- 网站描述
- 管理员邮箱
- 每页显示数量

## 🛡️ 安全特性

- **CSRF 防护** - 所有表单都包含 CSRF Token
- **SQL 注入防护** - 使用 PDO 预处理语句
- **XSS 防护** - 所有输出都经过 HTML 转义
- **权限验证** - 后台页面需要登录验证
- **密码加密** - 使用 PHP password_hash 函数

## 📱 移动端适配

系统采用响应式设计，在不同设备上都有良好的显示效果：
- 桌面端：完整功能展示
- 平板端：优化布局适配
- 手机端：简化操作界面

## 🔄 版本信息

**当前版本：v1.0**

### 主要功能
- ✅ 需求收集与管理
- ✅ 分类管理
- ✅ 响应式设计
- ✅ 后台管理系统
- ✅ 数据统计
- ✅ 安全防护

## 📞 技术支持

如果您在使用过程中遇到问题，请检查：

1. **环境要求** - 确保 PHP 和 MySQL 版本符合要求
2. **文件权限** - 确保 Web 服务器对文件有读写权限
3. **LayUI 路径** - 确保 LayUI 文件路径正确
4. **数据库连接** - 检查数据库配置是否正确

## 📝 开发说明

本系统使用 LayUI 原生语法开发，代码结构清晰，易于二次开发：

- **后端**：PHP + MySQL
- **前端**：LayUI + 原生 JavaScript
- **样式**：CSS3 + LayUI 组件
- **架构**：MVC 模式

如需定制开发，建议了解：
- PHP 基础语法
- LayUI 组件使用
- MySQL 数据库操作
- 前端 JavaScript

---

🎉 **感谢使用需求收集系统！**